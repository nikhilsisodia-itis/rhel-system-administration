# Creating Partitions

## Partitioning Tools

- `fdisk`: A command-line utility for managing disk partitions. It supports both MBR and GPT partitioning schemes, but for GPT disks, `gdisk` or `parted` is often preferred.
- `gdisk`: A command-line utility specifically for managing GPT partitions.
- `parted`: A command-line utility for creating, resizing, and deleting partitions. It supports both MBR and GPT partitioning schemes and can handle larger disks.

## Creating a Partition with `fdisk` on GPT Disks

RHEL 10 uses GPT (GUID Partition Table) by default for new disks. `fdisk` can manage GPT disks, but for advanced GPT features, consider using `gdisk` or `parted`.

Follow these steps to create a partition using `fdisk` on a GPT disk in RHEL 10:

1. **List available disks**

   ```bash
   lsblk
   ```

   Identify the target disk (e.g., `/dev/sdb`).

2. **Start fdisk on the target disk**

   ```bash
   sudo fdisk /dev/sdb
   ```

   If the disk is not already using GPT, you can convert it by typing `g` at the `fdisk` prompt to create a new empty GPT partition table.

3. **View existing partitions**

   At the `fdisk` prompt, type:

   ```bash
   p
   ```

   This prints the current partition table.

4. **Create a new partition**  
   - Type `n` to create a new partition.
   - Enter the partition number (default is next available).
   - Specify the first sector (press Enter to accept default).
   - Specify the last sector or size (e.g., `+5G` for 5GB).

5. **Write changes to disk**  
   - Type `w` to write the partition table and exit.

6. **Inform the OS of partition table changes**

   ```bash
   sudo partprobe /dev/sdb
   ```

   or
  
   ```bash
   sudo udevadm settle
   ```

7. **Format the new partition**

   Replace `sdb1` with your new partition:
  
   ```bash
   sudo mkfs.ext4 /dev/sdb1
   ```

8. **Mount the partition**

   ```bash
   sudo mkdir /mnt/newpart
   sudo mount /dev/sdb1 /mnt/newpart
   ```

9. **(Optional) Add to `/etc/fstab` for automatic mounting**

   Get the UUID:

   ```bash
   sudo blkid /dev/sdb1
   ```

   Add a line to `/etc/fstab`:
  
   ```bash
   UUID=<your-uuid>  /mnt/newpart  ext4  defaults  0 0
   ```

**Note:** Replace `/dev/sdb` and `/dev/sdb1` with your actual device names. For advanced GPT partitioning, consider using `gdisk` or `parted`.
