# Scheduling tasks with cron

## What is cron?

- Cron is a tool that runs tasks (commands or scripts) automatically at scheduled times.
- Each user can have their own cron jobs, managed with the crontab command.
- Cron jobs are defined in a special file called the crontab, using a simple time-based format.
- Cron is ideal for repetitive tasks like backups, updates, etc.
- The cron service must be running for scheduled tasks to work.

## Common commands

- `crontab -e`: Edit the current user's crontab file.
- `crontab -l`: List the current user's cron jobs.
- `crontab -r`: Remove the current user's crontab file.
- `systemctl status crond`: Check the status of the cron service.
- `systemctl start crond`: Start the cron service.
- `systemctl enable crond`: Enable the cron service to start at boot.
- `systemctl stop crond`: Stop the cron service.
- `systemctl disable crond`: Disable the cron service from starting at boot.

## Creating a cron job

- Open the crontab file for editing: `crontab -e`
- Add a line to define the schedule and command. The format is:

  ```* * * * * /path/to/command arg1 arg2
  ```

  The five asterisks represent:
  - Minute (0-59)
  - Hour (0-23)
  - Day of the month (1-31)
  - Month (1-12)
  - Day of the week (0-7, where both 0 and 7 represent Sunday)
- Example: To run a backup script every day at 2 AM, add:

  ```0 2 * * * /path/to/the/backup-script.sh
  ```

- Save and exit the editor. The cron service will automatically pick up the changes.
- To check if the cron job is scheduled, use: `crontab -l`
- To view logs of executed cron jobs, check the syslog file (e.g., `/var/log/cron` or `/var/log/syslog` depending on your system).
- To remove a cron job, edit the crontab file again with `crontab -e` and delete the corresponding line.
- Ensure the cron service is running with: `systemctl status crond`
- If the cron service is not running, start it with: `systemctl start crond`
- To enable the cron service to start at boot, use: `systemctl enable crond`
- To stop the cron service, use: `systemctl stop crond`
- To disable the cron service from starting at boot, use: `systemctl disable crond`
