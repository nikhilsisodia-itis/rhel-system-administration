# Managing Process Priority

## Introduction to Process Priority

- Process priority determines the order in which processes are scheduled for CPU time.
- Higher priority processes are given preference over lower priority ones.
- Priority levels can be adjusted to optimize system performance and responsiveness.

## Linux CGroups

- Control Groups (CGroups) allow user(s) to allocate resources such as CPU, memory, and I/O to groups of processes.
- CGroups can be used to limit the resources available to a process or a group of processes, ensuring that critical applications receive the necessary resources.
- CGroups can be managed using tools like `cgcreate`, `cgexec`, and `cgset`.
- In CGroups, the Linux System is divided in 3 parts or slices:
  - System: All systemd processes.
  - User: All user processes.
  - Machine: Virtual Machines and Containers.

## The `nice` and `renice` Commands

- The `nice` command:
  - `nice` starts a program with a specified priority (niceness value).
  - Lower niceness means higher priority; higher niceness means lower priority.
  - Only root can set negative (higher priority) niceness values.
  - Default niceness value is 0, with a range from -20 (highest priority) to 19 (lowest priority).
- Most used options for `nice`:
  - `nice -n <value>`: Specify the niceness value.
    - Example: `nice -n 10 command` starts `command` with a niceness of 10.
  - `nice --adjustment=<value>`: Adjust the niceness by the specified value.
    - Example: `nice --adjustment=5 command` increases the niceness by 5.
  - `nice --help`: Display help information about the `nice` command.
  - `nice --version`: Display version information about the `nice` command.
  - `nice` without arguments: Starts a shell with the default niceness value of 0.

- The `renice` command:
  - `renice` changes the priority of an already running process.
  - It can be used by any user to increase the niceness (lower priority) of their own processes.
  - Only root can decrease the niceness (increase priority) of processes.
  - Most used options for `renice`:
    - `renice <value> -p <pid>`: Change the niceness of a process with the specified PID.
      - Example: `renice 5 -p 1234` sets the niceness of process 1234 to 5.
    - `renice <value> -g <gid>`: Change the niceness of all processes in the specified group ID.
      - Example: `renice 10 -g 1000` sets the niceness of all processes in group 1000 to 10.
    - `renice <value> -u <user>`: Change the niceness of all processes owned by the specified user.
      - Example: `renice 15 -u username` sets the niceness of all processes owned by "username" to 15.
    - `renice --help`: Display help information about the `renice` command.
    - `renice --version`: Display version information about the `renice` command.
    - `renice` without arguments: Displays usage information.
