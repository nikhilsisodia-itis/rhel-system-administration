# Managing Unit Dependencies

## What are Unit Dependencies?

- Unit dependencies are relationships between systemd units that define the order and conditions under which they are started, stopped, or restarted.
- They help ensure that services are started in the correct order and that necessary services are available when needed.
- Common types of dependencies include `Requires=`, `Wants=`, `Before=`, `After=`, `Conflicts=`, and `BindsTo=`.

## Common Dependency Types

- `Requires=`: Specifies that the unit requires another unit to be active. If the required unit fails to start, the requiring unit will also fail.
- `Wants=`: Similar to `Requires=`, but if the wanted unit fails to start, the wanting unit will still start.
- `Before=`: Indicates that the unit should be started before the specified unit.
- `After=`: Indicates that the unit should be started after the specified unit.
- `Conflicts=`: Specifies that the unit cannot be active at the same time as the specified unit. Starting one will stop the other.
- `BindsTo=`: Similar to `Requires=`, but if the bound unit stops, the binding unit will also stop.
- `PartOf=`: Specifies that the unit is part of another unit. If the other unit is stopped or restarted, this unit will be stopped or restarted as well.
- `OnFailure=`: Specifies a unit to activate when the unit fails.

## Managing Dependencies

- To manage unit dependencies, you can edit the unit files located in `/etc/systemd/system/` or `/lib/systemd/system/`.
- Use the `systemctl edit <unit>` command to create or modify drop-in files for a unit without modifying the original unit file.
- After making changes to unit files, always run `systemctl daemon-reload` to apply the changes.
- Users can check the dependencies of a unit using the `systemctl list-dependencies <unit>` command.
- To visualize the dependency tree, use `systemctl list-dependencies --reverse <unit>` to see which units depend on the specified unit.
